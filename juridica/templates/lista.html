{% extends "base.html" %}
{% block contenido %}
    {% load static %}


<style>
.view-panel{
  transition: opacity .35s ease, transform .35s ease;
  opacity: 0;
  transform: translateY(6px);
}

/* visible */
.view-panel.is-active{
  opacity: 1;
  transform: translateY(0);
}

/* oculto (ya no ocupa espacio) */
.view-panel.is-hidden{
  display: none;
}

</style>



<!-- <div class="mx-3">
  <div class="btn-group" role="group">
    <input type="radio" class="btn-check" name="vistaSel" id="folioView" value="folio" checked>
    <label class="btn btn-outline-secondary" for="folioView">Folio</label>

    <input type="radio" class="btn-check" name="vistaSel" id="sumarioView" value="sumario">
    <label class="btn btn-outline-secondary" for="sumarioView">Sumario</label>
  </div>
</div> -->

<div class="sheet-wrap mt-3" id="sheetWrap">
  <div id="folioCard" class="card p-4 view-panel is-active">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="mb-0">游늯 Registros Jur칤dicos</h3>

          <div class="d-flex gap-2 align-items-center">
      <select id="tablaSelector" class="form-select form-select-sm" style="width:auto;">
        <option value="pendientes" selected>En Curso</option>
        <option value="historico">Hist칩rico (Terminados)</option>
      </select>

      <a href="/crear/" class="btn btn-primary btn-sm">+ Nuevo Registro</a>
    </div>
  </div>

  <!-- Pendientes -->
  <div id="wrapPendientes">
    <table id="registrosTable" class="table table-hover table-bordered align-middle w-100">
      <thead>
        <tr>
          <th>Folio</th>
          <th>Oficio o Derivacion</th>
          <th>Departamento/s</th>
          <th>Fecha Oficio</th>
          <th>Fecha Respuesta Prevista</th>
          <th>D칤as transcurridos</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Hist칩rico -->
    <div id="wrapHistorico" class="d-none">
      <table id="historicoTable" class="table table-hover table-bordered align-middle w-100">
        <thead>
          <tr>
            <th>Folio</th>
            <th>Oficio o Derivacion</th>
            <th>Departamento/s</th>
            <th>Fecha Oficio</th>
            <th>Fecha Respuesta</th>
            <th>Acciones</th>

          </tr>
        </thead>
        <tbody></tbody>
      </table>

      
    </div>
    <br>
    </div>
 

  <div id="sumarioCard" class="card p-4 view-panel is-hidden">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="mb-0">游녻 Sumarios</h3>

          <div class="d-flex gap-2 align-items-center">
      <select id="tablaSelector" class="form-select form-select-sm" style="width:auto;">
        <option value="pendientes" selected>En Curso</option>
        <option value="historico">Hist칩rico (Terminados)</option>
      </select>

      <a href="/crear_2/" class="btn btn-primary btn-sm">+ Nuevo Registro sumario</a>
    </div>
  </div>

  <div id="wrapPendientes">
    <table id="registrosTable" class="table table-hover table-bordered align-middle w-100">
      <thead>
        <tr>
          <th>Folio</th>
          <th>Oficio o Derivacion</th>
          <th>Departamento/s</th>
          <th>Fecha Oficio</th>
          <th>Fecha Respuesta Prevista</th>
          <th>D칤as transcurridos</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  </div>
</div>



<script>
  const folioRadio = document.getElementById('folioView');
  const sumarioRadio = document.getElementById('sumarioView');
  const folio = document.getElementById('folioCard');
  const sumario = document.getElementById('sumarioCard');

  const D = 350; // igual al transition del CSS

  function show(target){
    const incoming = target === 'folio' ? folio : sumario;
    const outgoing = target === 'folio' ? sumario : folio;

    // si ya est치 visible, nada
    if (incoming.classList.contains('is-active')) return;

    // 1) Mostrar el incoming (quitar display:none)
    incoming.classList.remove('is-hidden');

    // 2) Forzar reflow para que el transition agarre
    incoming.offsetHeight;

    // 3) Animar: incoming entra, outgoing sale
    incoming.classList.add('is-active');
    outgoing.classList.remove('is-active');

    // 4) Al terminar, esconder el outgoing con display:none
    setTimeout(() => {
      outgoing.classList.add('is-hidden');
    }, D);
  }

  folioRadio.addEventListener('change', () => show('folio'));
  sumarioRadio.addEventListener('change', () => show('sumario'));
</script>

{% block content %}
        {% include 'modal/modal.html' %}
{% endblock %}



<script src="{% static 'js/tabla.js' %}"></script>
<script src="{% static 'js/detalle.js' %}"></script>


{% endblock %}
